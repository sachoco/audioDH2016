(function(){var t,r,e,n,o,i,a;o=null,i=0,n=!1,e=null,r=null,a=function(t){var r,e;return r=function(t){return{h:Math.floor(t/36e5),m:Math.floor(t/6e4%60),s:Math.floor(t/1e3%60)}},r=r(t),e=[],r.h>0&&e.push(r.h),e.push("0"+r.m),e.push(r.s<10?"0"+r.s:r.s),e.join(".")},null==(t=Array.prototype).shuffle&&(t.shuffle=function(){var t,r,e,n,o;if(this.length>1)for(t=e=n=this.length-1;1>=n?1>=e:e>=1;t=1>=n?++e:--e)r=Math.floor(Math.random()*(t+1)),o=[this[r],this[t]],this[t]=o[0],this[r]=o[1];return this}),jQuery(function(t){var u,c,s,l,h,d,f,p,k,m,v,g,b,w;return p=function(){return n?h():d(tracks[i])},d=function(i){return SC.get("/tracks/"+i.track_id).then(function(n){return e=n.duration,r=n.download_url,t("button.download").addClass("active").removeAttr("disabled")}),SC.stream("/tracks/"+i.track_id).then(function(r){var u;return r.play(),o=r,u=i.artist_full?i.artist_full:i.artist,t(".trackinfo-cur .title").html(i.track_title),t(".trackinfo-cur .artist").html(u),t(".curtrack-description header").html("<h3>"+i.artist_full+"</h3><h4>"+i.track_title+"</h4>"),t(".curtrack-description section").html(i.description),t(".curtrack-description footer").html("<a href='"+i.link+"' target='_blank'>"+i.link+"</a>"),t(".curtrack-description").css("display","table"),t(".controller .dur").html(a(e)),t(".trackinfo").hide(),r.on("time",function(){return t(".controller .cur").html(a(r.currentTime())),t("#progress-indicator").width(r.currentTime()/e*100+"%")}),r.on("finish",function(){return f()}),t("button.playpause i").addClass("audiodh-pause").removeClass("audiodh-play"),t("ul.tracks li").removeClass("nowplaying"),t("ul.tracks li[data-id='"+i.id+"']").addClass("nowplaying"),t(".info-area").removeClass("grey"),t("body").hasClass("mobile")||(t(".controller-wrapper").outerHeight()+40>t(".curtrack-description").outerHeight()&&t(".curtrack-description").outerHeight(t(".controller-wrapper").outerHeight()+40),t(".footer").velocity({height:Math.max(t(".curtrack-description").outerHeight(),t(".controller").height()+40)},{duration:500,queue:!1,begin:function(){var t;return t=!0},complete:function(){var t;return t=!1}})),n=!0})},h=function(){return o.pause(),t("button.playpause i").removeClass("audiodh-pause").addClass("audiodh-play"),n=!1},f=function(){return i++,i>=tracks.length&&(i=0),o&&o.seek(0),d(tracks[i])},k=function(){return i--,0>i&&(i=mytracks.length),o&&o.seek(0),d(tracks[i])},t("button.playpause").on("click",function(){return p()}),t("button.next").on("click",function(){return f()}),t("button.prev").on("click",function(){return k()}),t("button.shuffle").on("click",function(){var r;return t(this).toggleClass("active"),r=tracks[i],t(this).hasClass("active")?tracks.shuffle():tracks.sort(function(t,r){return parseFloat(t.id)-parseFloat(r.id)}),o?i=t.inArray(r,tracks):void 0}),t("button.download").on("click",function(){return window.location.href=r+"?client_id=098249c9bda43969033f485dc628827d"}),s=function(r){var n,i,a,u,c;return n=t("#progress-scrubber"),i=n.offset(),u=n.width(),c=r.clientX-i.left,a=c/u,t("#progress-indicator").width(100*a+"%"),o?o.seek(a*e):void 0},v=function(r){var n,i,a,u,c;return n=t("#progress-scrubber"),i=n.offset(),u=n.width(),c=r.clientX-i.left,a=c/u,t("#progress-scrubber").on("mousemove",s),t("#progress-indicator").width(100*a+"%"),o?o.seek(a*e):void 0},b=function(r){return t("#progress-scrubber").off("mousemove",s)},t("#progress-scrubber").on("mousedown",v),t(document).on("mouseup",b),l=function(r){var e,n,i,a,u;return e=t("#volume-scrubber"),n=e.offset(),a=e.width(),u=r.clientX-n.left,i=u/a,t("#volume-indicator").width(100*i+"%"),o?o.setVolume(i):void 0},g=function(r){var e,n,i,a,u;return e=t("#volume-scrubber"),n=e.offset(),a=e.width(),u=r.clientX-n.left,i=u/a,t("#volume-scrubber").on("mousemove",l),t("#volume-indicator").width(100*i+"%"),o?o.setVolume(i):void 0},w=function(r){return t("#volume-scrubber").off("mousemove",l)},t("#volume-scrubber").on("mousedown",g),t(document).on("mouseup",w),u=!1,c=!1,t("body").hasClass("mobile")||(t("ul.tracks li").on("mouseenter",function(){var r,e;return t(this).hasClass("nowplaying")?m():u||(r=t(this).data("id"),e=t.grep(tracks,function(t){return t.id===r}),e=e[0],t(".trackinfo header").html("<h3>"+e.artist_full+"</h3><h4>"+e.track_title+"</h4>"),t(".trackinfo section").html(e.description),t(".trackinfo footer").html("<a href='"+e.link+"' target='_blank'>"+e.link+"</a>"),t(".trackinfo").css("display","table"),t(".info-area").addClass("grey"),t(".curtrack-description").hide(),t(".controller-wrapper").outerHeight()+40>t(".trackinfo").outerHeight()&&t(".trackinfo").outerHeight(t(".controller-wrapper").outerHeight()+40),t(".footer").velocity({height:Math.max(t(".trackinfo").outerHeight(),t(".controller-wrapper").outerHeight()+40)},{duration:500,queue:!1})),this}),t(".header").hover(function(){return m()}),t(".footer").on("mouseenter",function(){return m()})),t("ul.tracks li").click(function(){var r,e,n;return r=t(this).data("id"),n=t.grep(tracks,function(t,e){return t.id===r}),n=n[0],e=t.inArray(n,tracks),i=e,t(".tracks li").removeClass("nowplaying"),t(this).addClass("nowplaying"),d(n)}),t("nav.nav li:not('.home-btn, .invert-btn') a").on("click",function(r){return r.preventDefault(),t(".content-wrapper").load(t(this).attr("href")+" #content",function(){return t(".content-wrapper").show(),t(".tracks-wrapper").hide()})}),t("section.header header, nav.nav li.home-btn a").on("click",function(r){return r.preventDefault(),t(".content-wrapper").hide(),t(".tracks-wrapper").show()}),m=function(){return c?void 0:(t(".curtrack-description").show(),t(".trackinfo").hide(),t(".controller-wrapper").outerHeight()+40>t(".curtrack-description").outerHeight()&&t(".curtrack-description").outerHeight(t(".controller-wrapper").outerHeight()+40),t(".footer").velocity({height:Math.max(t(".curtrack-description").outerHeight(),t(".controller").height()+40)},{duration:500,queue:!1,begin:function(){return u=!0},complete:function(){return u=!1}}),t(".info-area").removeClass("grey"))},t(document).on("click","li.invert-btn a",function(r){return t("body").toggleClass("invert")}),t(document).on("click","div.mobile-menu",function(r){return t("nav ul").toggleClass("active")}),t(window).resize(function(){var r,e;return r=t(window).height(),e=t("section.footer").offset().top,550>r?t("section.footer").addClass("mini"):t("section.footer").removeClass("mini")}),this})}).call(this);